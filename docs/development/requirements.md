# 24bitColors - 要件定義書

## 📋 プロジェクト概要

### コンセプト

**「全世界の色好みのデータベース」を構築すること**を主目的とした Web アプリケーション。
そのための戦略として、SNS で拡散されやすい**「高精度かつエンターテイメント性の高いカラー診断機能」**を入り口（MVP）として実装する。

### アプリ名

**24bitColors** - 16Personalities のような公式感のあるブランド名

### 戦略的目標

- **データ収集 (Core Goal)**: 全世界規模で「好きな色」のビッグデータを収集・蓄積する
- **拡散性 (Growth Strategy)**: 「当たる」「綺麗」「誰かに見せたい」体験を提供し、シェアによるバイラル効果で母集団を拡大する
- **ユーザー体験**: パッと投票できる気軽さ（30 秒で完了）と、納得感のある結果表示

---

## 🛠 技術スタック

| カテゴリ               | 技術                    |
| ---------------------- | ----------------------- |
| フレームワーク         | Next.js 15 (App Router) |
| 言語                   | TypeScript              |
| スタイリング           | Tailwind CSS            |
| 色空間ライブラリ       | culori                  |
| デプロイ               | Vercel                  |
| バックエンド (Phase 2) | Supabase                |

---

## 🎯 機能要件

### Phase 1: MVP

#### 1. 色選択診断機能

- **方式**: bit 診断（二択を繰り返す適応的アルゴリズム）
- **質問数**: 20 問
- **所要時間**: 30 秒以内
- **対応色数**: 理論上 1677 万色（24bit RGB）

#### 2. リアルタイム予測

- 各質問ごとに現在の予測色を表示
- 信頼度を%で表示（質問が進むにつれて上昇）
- ユーザーの期待感を高める演出

#### 3. 結果表示

- 最終的な好きな色を大きく表示
- HEX コード表示
- シェア機能（Twitter/クリップボード）

#### 4. UI/UX

- **モバイルファースト**設計
- **シンプル**で直感的な操作
- **中立的**な色提示（バイアス最小化）

### Phase 2: 統計機能（今後実装）

- 統計ダッシュボード
- 地域別統計
- 時系列トレンド

---

## 🧬 技術仕様

### 色空間: OKLCH

#### 選定理由

- **知覚的均一性**: 人間の目の見え方に最も近い
- **色相の正確性**: 特に青系の予測が優秀
- **最新標準**: CSS Color Level 4 採用

#### OKLCH 座標系

```
L (Lightness): 0.0 - 1.0  明度
C (Chroma):    0.0 - 0.4  彩度
H (Hue):       0 - 360°   色相
```

#### 色変換

- **ライブラリ**: culori
- sRGB 色域外の色は自動的にクランプ

### アルゴリズム: 適応的二択診断

#### 基本原理

二分探索の色版。ユーザーの選択に基づいて、色空間を動的に絞り込む。

#### 改善点（プロトタイプからの変更）

1. **色変換**: culori ライブラリで正確な変換
2. **円形距離計算**: 色相の円形性を考慮（0° と 350° は近い）
3. **ペア選択**: 重み分布に基づく最適化

---

## 📂 ディレクトリ構成

```
24bitcolors/
├── src/
│   ├── app/
│   │   ├── page.tsx          # メインページ
│   │   ├── layout.tsx        # レイアウト
│   │   └── globals.css       # グローバルスタイル
│   ├── components/
│   │   ├── StartScreen.tsx   # スタート画面
│   │   ├── QuestionScreen.tsx # 質問画面
│   │   ├── ResultScreen.tsx  # 結果画面
│   │   └── ColorButton.tsx   # 色選択ボタン
│   └── lib/
│       ├── color-diagnosis.ts # 診断アルゴリズム
│       └── oklch.ts          # OKLCH色空間ユーティリティ
├── docs/
│   └── requirements.md       # この要件定義書
├── package.json
└── README.md
```

---

## 🎨 UI/UX 設計原則

### 気軽さ最優先

- **30 秒で完了**: サクッと診断
- **即座に結果**: 診断後すぐ結果が見える

### 中立性の確保

- **色の配置**: ランダム、順序によるバイアスなし
- **色の提示**: 最も離れた色のペア

### エンターテイメント性

- 驚き: 「なんでこんなに当たるの？」
- シェア欲求: 結果を共有したくなる

---

## 📊 成功指標（KPI）

| 指標         | 目標値 |
| ------------ | ------ |
| 完了率       | >80%   |
| 平均所要時間 | <45 秒 |
| シェア率     | >15%   |

---

## 📝 変更履歴

| 日付       | 変更内容                                                                          |
| ---------- | --------------------------------------------------------------------------------- |
| 2025-12-08 | 初版作成。アプリ名を 24bitColors に決定。Next.js + Tailwind CSS + culori で実装。 |
